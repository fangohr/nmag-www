restindex
    crumb: Debian package
    format: rest
    page-title: nmag installation instructions for debian
    include: Yes
    page-description:
      nmag installation instructions for debian systems
    /description
    build: Yes
/restindex

Installing nmag on a debian based Linux system
==============================================

Generic instructions
--------------------

To assist easy installation (and de-installation) on debian-based
Linux systems (such as Ubuntu, Knoppix, or plain Debian), we provide
(at present, i386 binary-only) packages that contain the nmag library
and the nsim framework. These can either be obtained directly from 
`http://nmag.soton.ac.uk/debian/dists/stable/unofficial/binary-i386/ <http://nmag.soton.ac.uk/debian/dists/stable/unofficial/binary-i386/>`__ and installed manually 
(using ``dpkg -i [packagefile.deb]``).

Alternatively, one may add the following line to ``/etc/apt/sources.list``::

 deb http://nmag.soton.ac.uk/debian/ stable unofficial

Then, an ``aptitude update`` (or ``apt-get update``), followed by 
``aptitude install nsim`` (or ``apt-get install nsim``) will suffice 
to install the system (and resolve all the dependencies).


Notes for Ubuntu
----------------

The Ubuntu libpetsc deviates from the Debian package in subtle
ways. In particular, the following error is produced on Ubuntu (Gutsy)
when trying to start nsim::

  $ nsim
  /usr/bin/pyfem: symbol lookup error: /usr/lib/libpetsc.so.2.3.2:
  undefined symebl: queue

We have contacted the Ubuntu developers and asked to resolve this
issue. In the mean time, what you can do for now is to download this
file:

http://ftp.cz.debian.org/debian/pool/main/p/petsc/libpetsc2.3.2_2.3.2-1_i386.deb

This is the debian version of the libpetsc package.

Then, as root, give the command::

  $ dpkg -i libpetsc2.3.2_2.3.2-1_i386.deb

to replace your Ubuntu libpetsc package by its Debian cousin. This
should not upset anything on your system. Should you, however,
nevertheless want to revert this change, you can just say::

  $ aptitude reinstall libpetsc2.3.2




Installing the developer version
--------------------------------

Note: if you have a beta-tester password, you may gain access to the
most recent developer debian package by using the following line instead::

 deb http://user:password@nmag.soton.ac.uk/debian/ unstable unofficial

(Strictly speaking, this works but violates RFC1738.)
